
import streamlit as st

st.set_page_config(page_title="Last War Tools Suite")

# =================== Language Setup ===================
languages = {
    "English": "en",
    "Tiáº¿ng Viá»‡t": "vi",
    "ç¹é«”ä¸­æ–‡": "zh"
}

lang_choice = st.selectbox("ğŸŒ Select Language / Chá»n ngÃ´n ngá»¯ / é¸æ“‡èªè¨€", list(languages.keys()))
lang = languages[lang_choice]

# =================== Localized Text ===================
text = {
    "train_title": {
        "en": "ğŸš‚ Best Cargo Train Calculator",
        "vi": "ğŸš‚ TrÃ¬nh tÃ­nh khoang tÃ u tá»‘t nháº¥t",
        "zh": "ğŸš‚ æœ€ä½³è²¨é‹åˆ—è»Šè¨ˆç®—å™¨"
    },
    "train_intro": {
        "en": "Select your best cabin based on current queue sizes. This assumes that Cabin D is the best, followed by Cabin A, and Cabins B & C have equal value.",
        "vi": "Chá»n khoang tá»‘t nháº¥t dá»±a trÃªn sá»‘ ngÆ°á»i xáº¿p hÃ ng hiá»‡n táº¡i. Khoang D cÃ³ giÃ¡ trá»‹ cao nháº¥t, tiáº¿p theo lÃ  A, cÃ²n B vÃ  C cÃ³ giÃ¡ trá»‹ báº±ng nhau.",
        "zh": "æ ¹æ“šç›®å‰æ’éšŠäººæ•¸é¸æ“‡æœ€ä½³è»Šå»‚ã€‚è»Šå»‚ D ç‚ºæœ€é«˜åƒ¹å€¼ï¼Œå…¶æ¬¡ç‚º Aï¼ŒB å’Œ C åƒ¹å€¼ç›¸åŒã€‚"
    },
    "ev_description": {
        "en": "**What is EV?** Expected Value (EV) estimates your average gain over time. A higher EV means a better long-term choice.",
        "vi": "**EV lÃ  gÃ¬?** GiÃ¡ trá»‹ ká»³ vá»ng (EV) Æ°á»›c tÃ­nh má»©c lá»£i trung bÃ¬nh cá»§a báº¡n theo thá»i gian. EV cÃ ng cao thÃ¬ lá»±a chá»n cÃ ng tá»‘t vá» lÃ¢u dÃ i.",
        "zh": "**ä»€éº¼æ˜¯ EVï¼Ÿ** æœŸæœ›å€¼ (EV) è¡¨ç¤ºä½ é•·æœŸå¹³å‡èƒ½ç²å¾—çš„æ”¶ç›Šã€‚EV è¶Šé«˜ï¼Œé•·æœŸè¡¨ç¾è¶Šå¥½ã€‚"
    },
    "input_header": {
        "en": "ğŸ“¥ Input Queue Sizes for Each Cabin",
        "vi": "ğŸ“¥ Nháº­p sá»‘ ngÆ°á»i Ä‘ang xáº¿p hÃ ng táº¡i má»—i khoang",
        "zh": "ğŸ“¥ è¼¸å…¥æ¯å€‹è»Šå»‚çš„æ’éšŠäººæ•¸"
    },
    "input_label": {
        "en": "Cabin {name} (Enter the number of passengers in the queue here)",
        "vi": "Khoang {name} (Nháº­p sá»‘ ngÆ°á»i xáº¿p hÃ ng táº¡i Ä‘Ã¢y)",
        "zh": "è»Šå»‚ {name}ï¼ˆè«‹è¼¸å…¥æ’éšŠäººæ•¸ï¼‰"
    },
    "ranking_header": {
        "en": "ğŸ“Š Cabin Rankings by EV",
        "vi": "ğŸ“Š Xáº¿p háº¡ng cÃ¡c khoang theo EV",
        "zh": "ğŸ“Š æ ¹æ“š EV æ’åçš„è»Šå»‚"
    },
    "t10_title": {
        "en": "ğŸª– T10 Research Calculator",
        "vi": "ğŸª– TrÃ¬nh tÃ­nh nghiÃªn cá»©u T10",
        "zh": "ğŸª– T10 ç ”ç©¶è¨ˆç®—å™¨"
    }
}

# =================== T10 Data and Functions ===================
t10_data = {
    "Advanced Protection": [
        (31_000_000, 31_000_000, 91_000_000),
        (53_000_000, 53_000_000, 158_000_000),
        (53_000_000, 53_000_000, 158_000_000),
        (74_000_000, 74_000_000, 221_000_000),
        (74_000_000, 74_000_000, 221_000_000),
        (96_000_000, 96_000_000, 287_000_000),
        (96_000_000, 96_000_000, 287_000_000),
        (134_000_000, 134_000_000, 403_000_000),
        (134_000_000, 134_000_000, 403_000_000),
        (175_000_000, 175_000_000, 522_000_000)
    ],
    "HP Boost": [
        (31_000_000, 31_000_000, 91_000_000),
        (53_000_000, 53_000_000, 158_000_000),
        (53_000_000, 53_000_000, 158_000_000),
        (74_000_000, 74_000_000, 221_000_000),
        (74_000_000, 74_000_000, 221_000_000),
        (96_000_000, 96_000_000, 287_000_000),
        (96_000_000, 96_000_000, 287_000_000),
        (134_000_000, 134_000_000, 403_000_000),
        (134_000_000, 134_000_000, 403_000_000),
        (175_000_000, 175_000_000, 522_000_000)
    ],
    "Attack Boost": [
        (31_000_000, 31_000_000, 91_000_000),
        (53_000_000, 53_000_000, 158_000_000),
        (53_000_000, 53_000_000, 158_000_000),
        (74_000_000, 74_000_000, 221_000_000),
        (74_000_000, 74_000_000, 221_000_000),
        (96_000_000, 96_000_000, 287_000_000),
        (96_000_000, 96_000_000, 287_000_000),
        (134_000_000, 134_000_000, 403_000_000),
        (134_000_000, 134_000_000, 403_000_000),
        (175_000_000, 175_000_000, 522_000_000)
    ],
    "Defense Boost": [
        (31_000_000, 31_000_000, 91_000_000),
        (53_000_000, 53_000_000, 158_000_000),
        (53_000_000, 53_000_000, 158_000_000),
        (74_000_000, 74_000_000, 221_000_000),
        (74_000_000, 74_000_000, 221_000_000),
        (96_000_000, 96_000_000, 287_000_000),
        (96_000_000, 96_000_000, 287_000_000),
        (134_000_000, 134_000_000, 403_000_000),
        (134_000_000, 134_000_000, 403_000_000),
        (175_000_000, 175_000_000, 522_000_000)
    ],
    "Unit X": (187_000_000, 187_000_000, 560_000_000)
}

def format_number(n):
    if n >= 1_000_000_000:
        return f"{n / 1_000_000_000:.1f}G"
    elif n >= 1_000_000:
        return f"{n / 1_000_000:.1f}M"
    return str(n)
